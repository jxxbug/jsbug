
const $ = new Env('cookieæœ‰æ•ˆæµ‹è¯•');
const notify = $.isNode() ? require('./sendNotify') : '';
const fs = require('fs');

//Node.jsç”¨æˆ·è¯·åœ¨jdCookie.jså¤„å¡«å†™äº¬ä¸œck;

let cookieConfig = [
  {name:'angrybug',no:'',cookie:'__jda=122270672.1625019082041967060896.1625019082.1625019082.1625019082.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625019082043; __jdc=122270672; mba_muid=1625019082041967060896; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=341a227e-9bc4-eaab-b145-d83a93976bdd-1625019086; shshshsID=7ba3ac50b4fdd44e206b5d88b24fa7fa_1_1625019086288; shshshfpb=qaYb5GR1Vc4hYpOSH6zZjQA%3D%3D; 3AB9D23F7A4B3C9B=7SCKMVTB5SOA4IJFBW7EXOAYPDEPECZJMFEFNZLBZW5RVM2DUNFCY3TUH5YAMUK6ENFR3WA44TA6MLLR2JZUBQCNXI; jcap_dvzw_fp=ijJlxY9adzWazT1LdKdhVz2FZYdX5N-6sdwGE8PlBvQSvFEXYSdGlO79DmNHx-erSEH0fw==; TrackerID=vqu30HoEAqCt4cTWVNAL-Ioz5boIB0NSse3u7ooreEqG0Yrn1cosS4Wn_fBfzWyRnoyZ5e6svnxnDdkyLapfmfTXaJ-mUuODfGQLclUfmosQs6fE4ulJlXZLxY3k9tERK_I9lR14Cmo8OeTfuHy80g; pt_key=AAJg29MPADAO9gwM8jc2-vNp7J8Eaqh3nu0Lys9gIv5qHwOrq2W8UUUSwm_CGp4ArdLF0ed0_-Y; pt_pin=jd_74b6416c1a2b7; pt_token=iwd65d7d; pwdt_id=jd_74b6416c1a2b7; sfstoken=tk01mdbbc1c91a8sMiszKzErMysxrvN6xVFDjSQw6E3VW8Qz0bb57Yvs91WzfNOoMIAZ8qX18zvs4DJ8aOzMNk2jbD0w; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.1625019082041967060896|1.1625019082; mba_sid=16250190820479433690425778270.3'},
  {name:'hzxx9123',no:'',cookie:'__jda=122270672.16250189045732147368303.1625018904.1625018904.1625018904.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625018904575; __jdc=122270672; mba_muid=16250189045732147368303; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=087112ab-d42b-0fc5-f525-38248c17f018-1625018908; shshshsID=f7b783874cb816854b1ac59b2d393e73_1_1625018908195; shshshfpb=gq10yOKTD%2B8IW68dxJ%2FRbdg%3D%3D; 3AB9D23F7A4B3C9B=MEEA3SBL2Y72XQ6M3UNLIZLJNHXPDUIKED6G2FQSSDYKH7JEGDS3L3SC2VJJH4KNLSN2LDLVLJX6ZMVU7TMQWUPGEY; jcap_dvzw_fp=iPgD6OO5yF3xZ6pRK57zp-zuOIXK1I5gZpvw_Faptem48D3S7jP0jxexj0LGdCgKL7_ghw==; TrackerID=kIKq8zBPbEfc2FW8uwtDRLoShOZTZlyxoGDgR-XkHaTaQzS_rQqtioaGWv71AN2WEk0qjXTk29HD2Q_OJtqLtGSVclLUtlqriBh04xUcXyYvP-bf6pg-Q5jdZbxUY1Qm; pt_key=AAJg29JGADD_0biTJi6NWYK-Eb3j2F09GYcafIkZLwPODzJ7UgQN4SNU9309XuyQNxtuY3eM8pU; pt_pin=hzxx9123_m; pt_token=0n8vl4vy; pwdt_id=hzxx9123_m; sfstoken=tk01mbebd1c25a8sMngyKzF4Misyfsi+rJqmmGOdI+SJQuP/Ci/3K0Y60gMeDAxmj+p+Jen2sEqq/OpJkWqCD5HdAwcY; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250189045732147368303|1.1625018904; mba_sid=16250189045793312531765321957.3'},
  {name:'galabug',no:'',cookie:'__jda=122270672.16250192398741471389978.1625019239.1625019239.1625019239.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625019239875; __jdc=122270672; mba_muid=16250192398741471389978; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=9d4b5d4e-51f7-7538-e30e-7fa0f4a138f7-1625019243; shshshsID=f18e1898cf0404d30115d7364d6ceaab_1_1625019243776; shshshfpb=g%2BF6kYDKwaVubIQvrNb1plg%3D%3D; 3AB9D23F7A4B3C9B=OFEL2EUVFBZV64H4ETX5HDVWF7RDNKFAH46LFSZPOSLGL66YJKW3DQNJZQ3ALMPVMPROSFD7IUP3VY63JTL7CEKMHA; jcap_dvzw_fp=hUi2QohDGi7-njB6y4kDUo-hAaOd_9Lem0vOJ_2ysFafnDtvYnWqMh4ALsZ_Gsu3SUuj9Q==; TrackerID=fvLrD92k10g6B4iAEeyISvsUx9SzI7u13evgYB-LFtMNvD2MnQhN36bNncm88PgpyqrKhlclJT7P643_c18dgQ8cRToMVuVk4HWpgBjjTI31pD6q-iXdo6Fig16z5EagJPT46g_I3LIyncyOTV6ZIA; pt_key=AAJg29N9ADDqikPFRk2LqvOG-6U8SwjhnjFzSI9o9RcJD8EOmdtro7OGFLrD6MIKncRhAslZquw; pt_pin=jd_qIKHcUXtncGa; pt_token=xp2aq2sm; pwdt_id=jd_qIKHcUXtncGa; sfstoken=tk01mb5e51bf7a8sMisxKzErM1c4uQSda46Kl4NidXM2pOfE96kvMt0nf3JgJXtpjY4KAZsHCu2iXn8O4cT7cjXQOc8C; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250192398741471389978|1.1625019239; mba_sid=16250192398786172254501442482.3'},
  {name:'æ´›æ¾æ›²å¹³',no:'13588132872',cookie:'__jda=122270672.16224499455441896996959.1622449945.1622449945.1622449945.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1622449945545; __jdc=122270672; mba_muid=16224499455441896996959; OUTFOX_SEARCH_USER_ID_NCOO=850578572.4177297; shshshfpb=jRfLVVjTyHJ3uqZibtnU71w%3D%3D; shshshfp=ab087ef786c74e6d28e61e483cb5841f; shshshfpa=81e4dd15-de82-12f6-ae7a-e0a3cfa74e27-1622082057; shshshsID=3c3339387f41612ef643a9aad4900ee2_1_1622449947465; 3AB9D23F7A4B3C9B=PVZYKYLKE5NJCHYL7PPBPSK5RLFTUAHY5GRN2OM7DYNDJWGL5DTF43VIVA6QXWIW2KQWHXFOUHWRRNFHTWIPBSSAGE; jcap_dvzw_fp=YzgOx3v_q6Dq-bY7YIB8ODWvVvd4Ry0NHl0aA0yUXYCErfri31PHzPZK6_kheaCIUO5j8Q==; TrackerID=m-gMdfud5_EWP60QOnbl6yxPzF15rMj1_lFu9Yn2yrFly2EVRq_c9SYncF3qfz193oBBXrEZGATElkvzp6Gu7jBTL5CAv_FMOp6fFC3H6gsd6aAZx7r6bepW0yjmHXkM_Mzy4rG0AhC_RUDcxI0bcg; pt_key=AAJgtJ_8ADBwccYJnhuvCn4kPWh1gET0ScoLmmsM3Tm5zX0huxlRvF7Maq6Nyzsqe2UUrwQdjFo; pt_pin=%E6%B4%9B%E6%9D%BE%E6%9B%B2%E5%B9%B3; pt_token=0skvi719; pwdt_id=%E6%B4%9B%E6%9D%BE%E6%9B%B2%E5%B9%B3; sfstoken=tk01mc2041d00a8sM3gyeDIrM3gx5SrWadEDp2ld5EaSf7vIZP2tD9uXNobppnahwRVUnES7H2UIgJdRvRswnbCfaEfQ; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16224499455441896996959|1.1622449945; mba_sid=16224499455471465999647762779.3'},
  // {name:'',no:'13588132872',cookie:''},
  {name:'é£è§è€€',no:'13735362025',cookie:'__jda=122270672.1622450233737929193371.1622450233.1622450233.1622450233.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1622450233738; __jdc=122270672; mba_muid=1622450233737929193371; OUTFOX_SEARCH_USER_ID_NCOO=1423810670.348792; shshshfpb=jRfLVVjTyHJ3uqZibtnU71w%3D%3D; shshshfp=ab087ef786c74e6d28e61e483cb5841f; shshshfpa=81e4dd15-de82-12f6-ae7a-e0a3cfa74e27-1622082057; shshshsID=07147e91feb75a0614dc08a425838ce5_1_1622450244343; 3AB9D23F7A4B3C9B=V76DC476Z46STNDGV2SDCX2SQDFL4ZONOYPQUVLLKE2FQPFJH77CIFY53F4LQ3GBTZ3GEUOT5LXRALQ7HURZHTHUDI; jcap_dvzw_fp=VOuZC_MKLSm-GvlqYJymSmLpCuEhhi55uPdxc_SISHmIFfKVa5M1BgzlzPr2HRy23CtgPw==; TrackerID=eK8Z3oHnAVcO6G2Qu_bPM7Tm37hx-LRwd0Gq_g_YqO0NtYydNxMjiATc3MnuP8o67m5yH6HEaXKCcZZBJ7UiJkYCakyFPFrVuujY6mhJbpl-BlE605c3ERhOJm7_CIdeiTonw138jcd_iOrflVPfZQ; pt_key=AAJgtKCmADC2ROn8bjU8ZF7egurMHfbffLUH4yXJhLDYpYdLw1kwUZpHtV8XA3_E3Kh02UNJ5bY; pt_pin=jd_UPDvDYTAxBCZ; pt_token=lfsdqqj5; pwdt_id=jd_UPDvDYTAxBCZ; sfstoken=tk01m999e1bb2a8sM3gzeDMrM3V3OgWi4bWwXhIPGY3r1fGZQNfPG8HYYKL0W3IlsfXvwLnFUHoh57l7W0wj5pZN0aDw; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.1622450233737929193371|1.1622450233; mba_sid=16224502337391044397143771649.3'},
  // {name:'',no:'13735362025',cookie:''},
  {name:'jd_470e79d4d29a1',no:'15925818202',cookie:'__jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625022554175; __jdc=122270672; mba_muid=16250225541721605102996; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=c832e6fb-a92a-400e-f81a-c97a3e1dded4-1625022558; shshshfpb=p5emQXdoeh9jVhaGll0OHcg%3D%3D; jcap_dvzw_fp=-jTq3j1wkcja8VNkKn1R7i2kRI3RwVL-li3oaUOaxpglaL1sZAvVPczu7QY1B8RMWQohrg==; __jda=122270672.16250225541721605102996.1625022554.1625022554.1625025947.2; shshshsID=f6f1e0704f28f33ce9a83b67ce47c66c_1_1625025947444; 3AB9D23F7A4B3C9B=D5QAFNPWN6VTFQOHHKKES374FNR7TVBQD2SZFVGHFKDOGGSCLXTYGM6OSLY3HCSXYNURXGDPZDNJCEYUHVDYRGVLIM; TrackerID=i1WaxpRhUZ-7JVhcjF5rgBkXw44d3fEG7dHWnaXI200KiWoxJW_51IGFukpg-DE_xmx9cMMKHYYkK-SGqw9_LO7Cge0XIwa87hRcOzEHNXA8Nx5NDjRNh9fxeFFsMvP-3E2KPsRdXwLrofITN9cHig; pt_key=AAJg2-2-ADA_E2jF028mgV1I3XKnN_RsGgfIfcUxlqg2Mf2AHQb5lyjtA95-9PEA5QlyVUCsO1I; pt_pin=jd_470e79d4d29a1; pt_token=r9ps6yiy; pwdt_id=jd_470e79d4d29a1; sfstoken=tk01mbcea1c31a8sMisyeDIrMVF6O30xVwDSwywYgufYHFMj7Sp7Pa9VZVNVafffy99999IB9MG1+aP7yVqSbzITq4sv; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.2.16250225541721605102996|2.1625025947; mba_sid=16250258767205002119860423631.2'},
  {name:'jfstanly',no:'18758274169',cookie:'__jda=122270672.16250198649251145141821.1625019864.1625019864.1625019864.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625019864927; __jdc=122270672; mba_muid=16250198649251145141821; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=c3d2aed3-2cb3-255a-a145-098f4978e453-1625019986; shshshsID=8cd2780134a07203e3b088c6c8ba3e1f_1_1625019986372; shshshfpb=ryC1PgZUE%2Bv0T9fOl6Ygm7w%3D%3D; 3AB9D23F7A4B3C9B=JXELS4KR75E7KRVPZP6Q5NHCF5HPXG76WYALV2T26JNYF35DR6BGWRUHCHLUFOJ2OHI7ZYOIOO4TLN6YYXIHE5N2WU; jcap_dvzw_fp=DO4OGb4Zb6GXMIMtz5Fd8wNmjB3oc5qlabVI8Ffr8mbPqrxU-MNvD7O84iNjkFi0-G8VNw==; whwswswws=; TrackerID=fRpXHEZ9eBvrJ3ubzJRMyfjDtsxRxLqV2_ODcSYff4xMVZHTf-fJqCX3PQF3IBs4EPAqj4jyu9sFoe5n_JCTb8ejCHf1-159-NTgDeh7aJMYnt4AS-eEBbVQQUMuQIB5T8YDAUlecBUy6unDodfIWg; pt_key=AAJg29bCADDYFdaE9TMGlQJn8sK_kElFGFB-o7gEOqv31m1bWYDxBdRA1QRMIA5L_-SACyLyIuo; pt_pin=45192048-35442753; pt_token=z2ah6lll; pwdt_id=45192048-35442753; sfstoken=tk01mcfd11c73a8sM3gzUkdSRDhoTCMfRm0ImmiMxcDRkXWupLKL6m9XYORbXbiKHLMUFuBzpcNYSarVV702bTReP2Z6; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250198649251145141821|1.1625019864; mba_sid=16250198649324996089651795412.3'},
  {name:'qw651254633',no:'18972990768',cookie:'__jda=122270672.1625020196648588086863.1625020196.1625020196.1625020196.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625020196651; __jdc=122270672; mba_muid=1625020196648588086863; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=505c4c79-e2f1-3e99-fa88-72f3af33ad74-1625020200; shshshfpb=qff3WWGhARq0R%2FhA4h468oQ%3D%3D; jcap_dvzw_fp=IIrDZQcm1zCvWzj5bSVieFhlZiSezuz6ItQ1NFeBaSfCADThp9cMYtVPLWVE7f91aNObxg==; shshshsID=0ad68c352a794c68b88c47f90a42e7a3_2_1625020313534; 3AB9D23F7A4B3C9B=GLGURPSDT4HMWR3SBTIWIHMRGQ4YQNVYGKALQ2COYSWJOMDYKSNBZQBL4I43KLQKAGRD53OLLZBPXI3EZPPA2CRTUQ; TrackerID=VEcLFOhJuWdfpXwJ4iDvkNP_3XF3QxGobG6kLkN3qaortSLHfpzngAqFxZ8LSddqYqkDLe4ngd2wyIhGJkneFLXYQWvrPHYxyzHOljIiJjcTpmQgqVYsZkTll_GwEe8_; pt_key=AAJg29fhADA9xgkPR_PtORHRVOgNOvsTcZIK2f1Yn5_E_HLKq7UTHmsifgcRuB0Ae1mI2lTSdaU; pt_pin=qw651254633; pt_token=kn8eun2h; pwdt_id=qw651254633; sfstoken=tk01me3611d99a8sMXgxKzFNcmdwrX+HvjvbRM+Z3JJnyORxICXQeFZVs1vTZ7rsKhdI/iqup526cmehyxIQ4xTEqkYv; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.4.1625020196648588086863|1.1625020196; mba_sid=16250201966576985781215244957.4'},
  {name:'vivi-wei',no:'19957140151',cookie:'mba_muid=160868834702379481016; shshshfpa=102029b8-ae80-2fe3-4040-9a81165f6830-1608688524; shshshfpb=cHpsEAXFfw/EPoZnL9vuYfA==; webp=1; visitkey=255060681730150; retina=1; cid=9; __jdc=122270672; PPRD_P=UUID.160868834702379481016; sc_width=1280; __jda=122270672.160868834702379481016.1608688347.1623420741.1623563264.25; __jdv=122270672|direct|-|none|-|1623563264650; 3AB9D23F7A4B3C9B=5VJQCSNEGIF7L7UFLIC2YFZ4PL46J7RGEFLL2FAUBQPUOEYITK7HZLN4O6YL7TCNVWVOAGEJTFMV6IZIRO3FOITOMU; TrackerID=ewry_eldNCjQlJN0EZNSia_FdX_2fm_5LGKJGazsKJnSUO2B_AngNfwXHJp2jXnb4H9_tmhHLvdozUhuWm77PYidsTChpSaA4z3UfcxSfjs42Hp43kEzaOE0hZP_lsSu; pt_key=AAJgxZwUADDjcwX-4uZdafh23Ld5SHUSESMRiEvJ7h7IHyztfE5RF_ZJGmSVfgUL3Lem0Nxc5YI; pt_pin=vivi-wei; pt_token=msd77hg5; pwdt_id=vivi-wei; sfstoken=tk01m9b571bc3a8sMXgzKzF4MngzGB2BWuQYOFIfJG4QTT6eYz+23tnq+DBkXjVLH9n5ZUBKfo+LyFX+yoadz8scgRR4; wxa_level=1; wqmnx1=MDEyNjM5M3AuL2hvYSY2TS50ZSA2ZS5MZW80YS5yYTQxTyMp; jxsid=16235632951371939620; __jdb=122270672.2.160868834702379481016|25.1623563264; mba_sid=16235632646536622860720422894.2; __wga=1623563295514.1623563295514.1623420741310.1608690006074.1.19; jxsid_s_t=1623563295624; jxsid_s_u=https://home.m.jd.com/myJd/newhome.action; shshshfp=c6600bb44366002c3a01347961ac50b2; shshshsID=a5cecb22795da1eaaede3519a7903642_2_1623563296101; __jd_ref_cls=MCommonBottom_My'},
  // {name:'',no:'',cookie:''},
  {name:'å·¦æ™ƒå³æ‘‡',no:'',cookie:'mobilev=html5; __jda=122270672.1623566150412848593948.1623566150.1623566150.1623566150.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1623566150414; mba_muid=1623566150412848593948; shshshfpa=caf1d541-0db9-0335-7126-3be705f643eb-1623566161; shshshfpb=gdVR5vvnHb1G%2FwqCB3TEtpQ%3D%3D; __jdc=122270672; shshshfp=90bca7cf92003a112ae24869d2891d7a; shshshsID=1d578a648cdf9d7f3474d50016c23ecd_2_1623566318191; 3AB9D23F7A4B3C9B=73JU2UF4ZFS7VVZJU5K4DZ3BTTPTTL4JN2YSQZZT226GCZXJ5HET4XMACHL23UUHBWP6DHGJV24YQNXQCBMQGY4R6I; jcap_dvzw_fp=pZSff_FT8lppe6SAr3ghJ-CKF-WgVQ086e7rO597Lz0uOlXl_bemShRJsWRwpOhpGnM1Ng==; TrackerID=4dPzoF_EfKxSqQxnFJeCp0UV-xqisUCBnlI46xu8VJhjIk-vue3gTm9T_RCmbbgXYC8e-gs1_CtlbGUKuKL7H7u0nlKOJ7cSULScr3t5TAa0HFeU59SX8Vi9pmNYFj5FVmW5FaOywbg3yV9Z8iHotQ; pt_key=AAJgxagdADCXkZ7yECyZopE-p3TbtbMEbwiF7jAkaw2dru_WOWeG8wh-LbGyRfs2jNMh1ToIlyc; pt_pin=17742717-634392; pt_token=1z6kpmje; pwdt_id=17742717-634392; sfstoken=tk01mc6061c4fa8sMXgxeDNUTXgrPuSjCbZY2V5aDULinQGfmlonjAf5eUDg0F/CJRLEc7bRjYzpCShT8+naEqEQk4Dj; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.8.1623566150412848593948|1.1623566150; mba_sid=16235661504196458094982973088.8'},
  // {name:'',no:'',cookie:''},
  {name:'jd_shis946',no:'18758322434',cookie:'mobilev=html5; __jda=122270672.16226195877781914311292.1622619587.1622619587.1622619587.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1622619587779; __jdc=122270672; mba_muid=16226195877781914311292; OUTFOX_SEARCH_USER_ID_NCOO=441315765.6504343; shshshfpb=jRfLVVjTyHJ3uqZibtnU71w%3D%3D; shshshfp=cb95b6fc4636f88a9049cfd2a3eeeec2; shshshfpa=81e4dd15-de82-12f6-ae7a-e0a3cfa74e27-1622082057; shshshsID=5167483bdebbd0a441123df26b9c3468_1_1622620331630; 3AB9D23F7A4B3C9B=V76DC476Z46STNDGV2SDCX2SQDFL4ZONOYPQUVLLKE2FQPFJH77CIFY53F4LQ3GBTZ3GEUOT5LXRALQ7HURZHTHUDI; jcap_dvzw_fp=VOuZC_MKLSm-GvlqYJymSmLpCuEhhi55uPdxc_SISHmIFfKVa5M1BgzlzPr2HRy23CtgPw==; whwswswws=; TrackerID=nYtJpPJqdizph53pENh-SDxuEoQNPc8hZ1OiE338XToCtfuF5WIyFQIDekTnLAbu52ou-2GEqgTrgf7xifI7xyfNEg74nQ5CIFL-oIVYCr5WykynSt2uRjw8Quf7PAoQ; pt_key=AAJgtzk6ADAffznhj1PEJQVuQoQ7cfd-d_FGvYyTWGCw2GdKZi6IP7C4leWAv0EhwnfzzEZefBk; pt_pin=shishuijuan; pt_token=63kw3fau; pwdt_id=shishuijuan; sfstoken=tk01mae511bafa8sM3gzKzJ4andnMEZjqLcCQZq3FrqlO8o98Dx5kgDWNFc8AZQ90S1kp/WJ0idV7p5OyRvfVEXQMp2C; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.5.16226195877781914311292|1.1622619587; mba_sid=16226195877812127049368532161.5'},
  // {name:'',no:'',cookie:''},
  {name:'èŠ±èŠ±åœ¨æˆ‘å¿ƒä¸­',no:'',cookie:'shshshfpa=96e01ffd-919b-ab6a-9054-bc65b6bca30b-1585209896; shshshfpb=herBKlSNep84x5Z7ZRic4FQ%3D%3D; __jdu=15852098967001793306947; mba_muid=15852098967001793306947; whwswswws=; webp=1; visitkey=247153646955978; jcap_dvzw_fp=tLhu6z7TbhHWcm0L1hKmQNtFyNSoNCmh1zzAh6ons1zYOZ7fywgmGhhLn_O4SDvZHjEUnw==; areaId=15; ipLoc-djd=15-1213-3410-0; retina=1; cid=9; __wga=1623201709418.1623201709418.1608690142173.1608690142173.1.2; sc_width=1440; equipmentId=D2U32OFGZ6ZKTBML62RUORSIKPTTUTEU5ACNCNKYMADZOBR3WQYFFIWZOIRTYAGB7N7EGGFMFJPZDD2FIWRBEERG5A; fingerprint=6a421856a31a38622532e46c5c9c1ef0; deviceVersion=91.0.4472.77; deviceOS=; deviceOSVersion=; deviceName=Chrome; unpl=V2_ZzNtbRIEFBUhAEZTLEpcAmIDEghKAEASJ1wVUCkQVAJhBBEKclRCFnUUR1NnGFQUZgsZWEtcQhRFCkdRehhUNWcCE11EV0AWdgF2V3sQXQ1uBHxUSzlBFRsARmRLGlw1ZjMSWUtTQBR9AU5TfRhdBWELEF9DUEsQczh2VHMebAVmAhNdS1dFE3cOQ2RLEV8NZQciXUNTQxVFCE9cfRBZBWEDEG0UOUMUdAlGVHIZVAcqAxZURlRCHXwAQVJ6GFwDbwEQXEVfRhNFCXZX; __jdv=122270672|kong|t_1001712228_2180986_88_31_91|jingfen|abf1e916fb16411d9f26ceb5c896762f|1623203281245; __jda=122270672.15852098967001793306947.1585209897.1623203281.1623646913.21; __jdc=122270672; shshshfp=8bf18123a2ff1aa11e45c28f3a0660d0; 3AB9D23F7A4B3C9B=D2U32OFGZ6ZKTBML62RUORSIKPTTUTEU5ACNCNKYMADZOBR3WQYFFIWZOIRTYAGB7N7EGGFMFJPZDD2FIWRBEERG5A; TrackerID=hG8f8oAIdoqj5ELzHhfIwfn0-5Y1cqJwWIiH1OrHf8Nw-kZQeqvxTXIXvjycXeaDwkYlGwadzKFsKh33Dfm-m-jgf9YDAnrPpiqcV0YTni3lEDyEiSS94srI7_PoTY7h; pt_key=AAJgxuLgADAcNFNCTD1fT9N3jyyAnFbWRzpMXWZOYVo67um39h4H01xMe7KXqXL57Masx3Cz4mQ; pt_pin=jd_57f39b4b90490; pt_token=hp0z0all; pwdt_id=jd_57f39b4b90490; sfstoken=tk01ma16e1bf7a8sMXgxVC9iOWhJp0j4903maqNeJdueK581p0YmBwscVpZPHd4nMi8GGLN/TP0jsb7OhyX8fKtHxbPP; shshshsID=36c5612f293ebb75bc5b328691f0c5b6_2_1623647047697; __jd_ref_cls=JingDou_NewHome_Sign; mobilev=html5; __jdb=122270672.6.15852098967001793306947|21.1623646913; mba_sid=16236469132514146780678382395.6'},
  // {name:'',no:'',cookie:''},
  {name:'960251810',no:'15251742008',cookie:'__jda=122270672.1623903474770747274996.1623903474.1623903474.1623903474.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1623903474771; __jdc=122270672; mba_muid=1623903474770747274996; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=8a969a12-801b-5bce-fe33-9138c789d810-1623903480; shshshsID=1dda17ee96b76b36594972b366080d5f_1_1623903480878; shshshfpb=ew4RonzMBme9lTllBvwnc%2BA%3D%3D; 3AB9D23F7A4B3C9B=OKOA3HTFBNZ6JJTNGBZLQIDJTEPMLGWQWOM4TLSCTFMGP53A4ANXMKQW45MJL4CBUNLTACB6ZP5CGSJQ7AHBGLF5WI; jcap_dvzw_fp=ZEdtXU4zmXKpBA5fq5zBPg4ZsPJqq05QJeZM7o5GLMuZfa5jDyifGNsADZ0mPX5dTAfarg==; TrackerID=hX_lt2AptMPA735BS2V-EL2siMrkYl8aQj8MHt2_OVU1kWiyTRrLbUczxZuoMXyYWH5vH8I2y5AjalxQcaNvBJzfgBEBBavxuTw7pEkkHGRR1Pb7DdiImii0N9xOwwzy; pt_key=AAJgys0WADAFGOo8f6hD0m3EGTwh9ZLpJVyteG8XkGXpWH1XN9yL9Q1OnFN92pFM60v47xzlj_8; pt_pin=960251810_m; pt_token=5nnv7t7t; pwdt_id=960251810_m; sfstoken=tk01ma56a1bfaa8sMSsxeDN4Mngy1s1jbHL5qVdNx63n8C2Zg2gkHU2C2spfAHPI4Xq8peYsPPi7gkZs6nUJ26G8zgpl; whwswswws=; __jd_ref_cls=Mnpm_ComponentApplied; __jdb=122270672.4.1623903474770747274996|1.1623903474; mba_sid=16239034747748215197143121429.4'},
  // {name:'',no:'',cookie:''},
  {name:'jokerbug',no:'',cookie:'__jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1623988767869; mba_muid=1623988767868542237988; shshshfp=45b43190bc304274a35b5e8e99016923; shshshfpa=d90d6f35-3e44-6714-7bdd-c95d3faa10ea-1623988770; jcap_dvzw_fp=1rg8ytbAQNTnZe7Tfz-1y2kU8ax14Tn4LZqALGb6lvPrc79HQh2RFIicE_V8mbfKliLYeQ==; __jda=122270672.1623988767868542237988.1623988767.1623988767.1624102642.2; __jdc=122270672; shshshsID=1e954f0680199395f8efdce056046ee7_1_1624102654221; shshshfpb=d4dDx%20nDTLk9kJ3t7JeU65w%3D%3D; 3AB9D23F7A4B3C9B=J5E3ASTSSTZZO47H3ADNK24JQTQ2NF3SVRNJIJHWFFELMLEWDWTDN4R6RD5JRRMQ5KR2V5RDPIRA3N6WIVW2WOCVYM; TrackerID=eI6a6RtXQTiHX0sJDBY3m3wPh9fsc9cYciKDu6sSvzqYmCL7IOo3wTrbfrEr4gEdFPyB8dX6XRtIptVvEo4viD3A0TXHa99erK5PiSBUx3-NHxUwsSY6t4a2xYcvX0RyidICAXFl_DVFeqRTKHoGHg; pt_key=AAJgzddLADAwjDYWEYp5QDc_md82qAGt72QjcKZQ6KOB7N0Cu1PUi8rJu5q0jec58STGB2G22kw; pt_pin=jd_5d3569557b71e; pt_token=tbmc1u0x; pwdt_id=jd_5d3569557b71e; sfstoken=tk01m96971b5ca8sMSsyeDFTc1FWIBgc3s7aL5Dr1js9sLQa1bwaW5V1RKt2Osw1tXSAhDQa8+Mm9Wfqj40I0dK1cTdq; whwswswws=; mobilev=html5; __jd_ref_cls=MCommonHead_Back; __jdb=122270672.7.1623988767868542237988|2.1624102642; mba_sid=16241026427167429307608115927.7'},
  // {name:'',no:'',cookie:''},
  {name:'æ‡’å›é¡¾å“ˆå•Šå“ˆ',no:'',cookie:'__jda=122270672.1624103456385250377217.1624103456.1624103456.1624103456.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1624103456386; __jdc=122270672; mba_muid=1624103456385250377217; shshshfp=45b43190bc304274a35b5e8e99016923; shshshfpa=c4eff6d1-7716-6d6c-17e5-eb37e3afee9c-1624103459; shshshsID=241c3620298e67bcf298cd083ec9283d_1_1624103459409; shshshfpb=gZXDSFPd1eLTf0%2F7Kzv8HFQ%3D%3D; 3AB9D23F7A4B3C9B=FSJI2BGP26MFDMA4KZFZZWFX572AJ7MVG5C5Q4HZEUT7E2RZFNFDMN6Y5IVZXH7HUEQTKG2DZW6S7PYDFIVEYBNWSI; jcap_dvzw_fp=LqYMnZKvhTTDTl20ipJI6dVFAp4f-0bmMUbxqvAWJ8P2OzkxufhgYYGcgyBr63--WDEqsg==; TrackerID=n27NAPvdYSBJ2MgoqOb8ICYHf053A8q65HvMBiekwGNghQDlS1GW7JXW_Ps6eC8Olc17MiqIzrZmpTE4vySsQqvFR8Nha-6Q9o7zgu049SHqZIZ1NX7hCMG6tFnbMRY3GcBeI-cwdgXr-J9DxW3YCg; pt_key=AAJgzdq3ADAQhRwimvlEAX6iPY1FGBhIsxQHUJKhq2gr5IQZVu-Le_SDAyWHUqlzi8JZyKa_gUY; pt_pin=jd_jxjvghEqXKbA; pt_token=tyg6mcj8; pwdt_id=jd_jxjvghEqXKbA; sfstoken=tk01mae811c12a8sMngyKzJ4M3gy7U2H/k2TjmGp7EuRKaNj6qnJVWGStkJPerwoa+YAiSXNX+P7EnSBl9i2ZDY6wioM; whwswswws=; __jd_ref_cls=JingDou_NewHome_NewSignExpo; __jdb=122270672.4.1624103456385250377217|1.1624103456; mba_sid=16241034563896332962946912257.4'},
  // {name:'',no:'',cookie:''},
  {name:'å¨œç¾å†™ç»™æˆ‘çš„ä¿¡',no:'18532313251',cookie:'__jda=122270672.16250215726291614950461.1625021572.1625021572.1625021572.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625021572630; __jdc=122270672; mba_muid=16250215726291614950461; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=bd886712-9a15-f52b-f2de-9a4e111bfe6b-1625021575; shshshsID=fd9d0726b697c2941ebd11b780adf7a0_1_1625021575872; shshshfpb=t1fd786TXd59O7RthJcoxug%3D%3D; 3AB9D23F7A4B3C9B=EL34433XBGYVIQ3JBYPYMJFNT4PVZ2DE5CNRDUSQQ2ZJM2JEQC2NAYZYKZPZSJBNU23EAYXHTFM5PZVK6ROTX6E4EU; jcap_dvzw_fp=w3KXwVMmqPB8XSEp-aNI1WINN5OC7EfM-8kkoA7lYx0NYJ8Mxp7zKwjCuRjaRXXRkZn8rw==; TrackerID=P85E6Gr4LUDSrIO5fdpofs-chTuT3-tgA2t5P7ck-5XgrDtzr2N6VCaQcD5ECUlqFvcZOC9d3kZx1qzVxHKv0qncL40y2tg4UWTjQsSzBYPM0ZCPF1VIb_wncJFQKqffwJ0XAhs-oQ_3939dIr8NUA; pt_key=AAJg29z5ADDqVksLTpXjQbD23CeIMwe2-rxJ536fYCIUG_VKZCen-Ju1JK_kFQUVxNVUj0TzGkI; pt_pin=18334533616_p; pt_token=8sdou6rp; pwdt_id=18334533616_p; sfstoken=tk01mde111d57a8sMSsyKzJZQkNTwBMzpOUd1qu282ADeG31pZXvjYmMhuowOYPNl1Ihkzt9ogbvgz4IwxZDzGR5RLDI; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250215726291614950461|1.1625021572; mba_sid=16250215726341785407414450530.3'},
  {name:'meidongzhu',no:'15658018729',cookie:'__jda=122270672.16250212761171394646237.1625021276.1625021276.1625021276.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625021276119; __jdc=122270672; mba_muid=16250212761171394646237; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=155fa6f0-0969-8784-6161-3fd11d52094a-1625021279; shshshsID=3ee9af39c0b41667b72d2185b18f1160_1_1625021279671; shshshfpb=kDp5Z4BsOt3lvWBxQw4er5A%3D%3D; 3AB9D23F7A4B3C9B=GPCZTGRGLAW6RE4CWOLWU3NVAUUAKQ554DEOZKGJN4IWQS3B6AW4QJZXPY5LIASRHWDK3C2XGSDSS4QQY5X34BGAY4; jcap_dvzw_fp=Aqn5YwdbyLtbUAE9sBgarty6ezrkD4bWy_-X2KKtbsI175xqPUhTbL1AylT3yd6GJzGWiw==; TrackerID=kZDwKoaxsQZyFdQm5rc93ieR2OAHAr7FVwL83Q_JAIIylB_rdysXe41SKnyMX9s71ZtSa76PcmDQGkWwG0D6U-viIe6tlJa46rLZX5UDoJ2WiBFytjQOe0gjExl2Vay6; pt_key=AAJg29tzADBYQUr9NY-WsmFG5sqMsrii2yNgwMSpH_2JRDsQtd2Uw_DzRjkYHgfTcl8qwOZ01bI; pt_pin=meidongzhu; pt_token=9npih9vo; pwdt_id=meidongzhu; sfstoken=tk01mf58e1d6ea8sMSsxKzErMisxfnnSOa7LAf0vhSusTJlooAno08bFzdGk7vBTgpEBq0U/1hen3SRPyHJRGgTeomoE; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250212761171394646237|1.1625021276; mba_sid=16250212761231058349642614111.3'},
  {name:'ä¹Œè´¼éª‘å£«',no:'15067067236',cookie:'__jda=122270672.16250213745331926017423.1625021374.1625021374.1625021374.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625021374534; __jdc=122270672; mba_muid=16250213745331926017423; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=a9c786af-5fb1-6647-f397-0634e99b426e-1625021377; shshshsID=e1e4de983b3927637a4779e706630c3a_1_1625021377475; shshshfpb=xGY9kovlg9Me7UP7u6Q3qEA%3D%3D; 3AB9D23F7A4B3C9B=QBNZ6WJ4VWVAC6BKQQQEL4B7U5KR63ZWE5KNW4B5HIWPTBMWKN4V4E5CT7SJETIXGNY3T2W2EURW3NQHVSAW6YRI5A; jcap_dvzw_fp=wYjXN-7GRgSn6mAw--8_uHO3b4FHtbFWJ5EHfjnDTuCCIU2amg7gV2drs18kmjNNjFxs0g==; TrackerID=hL6s56u9nYtpHVpbPXQIPkZqhxt3YPMC7muQL5BZES02_NrjgdNh1-8VNeV7oRC0pJ2-39hOJHRcwtdTG58qlctiGk9f088OFVcENmck2K9C9FNjwlZkvo8XTYTmUmtv; pt_key=AAJg29wkADD9X1U4F66cACW8ze2hZpL7WFUZdwF0D-kaen2_vKP9M1-u1q97gRx7zcwIehvHYJo; pt_pin=747709666_m; pt_token=vyufqr7m; pwdt_id=747709666_m; sfstoken=tk01mcd0d1bbea8sMiszVUJsYnlIJOlSJmtuboOLQA3oQ07nPvxt8fj/RV9H1DeKyCN1hHfSBHlO4V5WS5P42yN2zJ7W; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250213745331926017423|1.1625021374; mba_sid=16250213745381070665651015934.3'},
  {name:'jd_oå½niè®Šå£',no:'17610011759',cookie:'__jda=122270672.16250205120601535992919.1625020512.1625020512.1625020512.1; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1625020512062; __jdc=122270672; mba_muid=16250205120601535992919; shshshfp=7936a2da2eb32ba7dac1d4d711a701c0; shshshfpa=79435d0f-9991-df16-3115-b3f21db95d04-1625020515; shshshsID=f51c11f1551f320d1f9c8fa2ccf04493_1_1625020515523; shshshfpb=i3137Md1IlsjcvrN%2B3tREIw%3D%3D; 3AB9D23F7A4B3C9B=LMCYGKP7I2PYVVX4AC4T3EKERDLTCZRU5SUDDK7FS4VAYIZF6S73PGSFS4RJGDKFXMEQAHIMSIPJY5N7RQMN7PPLUQ; jcap_dvzw_fp=JxcAXUyz34zwnQg5SfKeiV2glwZrjUm7GsWE68dTqbWyU1Zjde-kH5Jfis7H7xMnrHqqUQ==; TrackerID=WLq36ow08Rgl2UeAlntc5FHIrmZJu5rVRrdws1iHnnNDeO-VNC36SA7giJCayeh3fDAIrQuh3CW1b_2rdvs1C13QnEA0tsjoQ8pWP-tIf8wuzeRX0nhHvpzp_eGxsEeFIPf5M07HeOfnR8unBmVWmg; pt_key=AAJg29iHADBxq2OInUxqjc1WxBiRuHm9AYJibB19YiST5Ax-jUBXGehTNra5yP3tnx0dFgei-gY; pt_pin=0%E7%88%B1%E8%87%AA%E5%B7%B11314; pt_token=ukyp3h70; pwdt_id=0%E7%88%B1%E8%87%AA%E5%B7%B11314; sfstoken=tk01md05d1caaa8sMisyKzNPV2dX6fwdJMcEIxrw15CeUlS1wov9gQKGtDu19wY9CkUTVFKvSQJkNUTytKtlWHbKF/0h; whwswswws=; __jd_ref_cls=MLoginRegister_SMSLoginSuccess; __jdb=122270672.3.16250205120601535992919|1.1625020512; mba_sid=16250205120695630376899254310.3'},
  {name:'',no:'',cookie:''},
]
//IOSç­‰ç”¨æˆ·ç›´æ¥ç”¨NobyDaçš„jd cookie
let cookiesArr = [], cookie = '';
Object.keys(cookieConfig).forEach((item) => {
  if(cookieConfig[item]&&cookieConfig[item].cookie){
    cookiesArr.push(cookieConfig[item].cookie)
  }
})
!(async () => {
  if (!cookiesArr[0]) {
    $.msg($.name, 'ã€æç¤ºã€‘è¯·å…ˆè·å–äº¬ä¸œè´¦å·ä¸€cookie\nç›´æ¥ä½¿ç”¨NobyDaçš„äº¬ä¸œç­¾åˆ°è·å–', 'https://bean.m.jd.com/bean/signIndex.action', {"open-url": "https://bean.m.jd.com/bean/signIndex.action"});
    return;
  }
  for (let i = 0; i < cookiesArr.length; i++) {
    if (cookiesArr[i]) {
      cookie = cookiesArr[i];
      $.UserName = decodeURIComponent(cookie.match(/pt_pin=([^; ]+)(?=;?)/) && cookie.match(/pt_pin=([^; ]+)(?=;?)/)[1])
      $.index = i + 1;
      $.beanCount = 0;
      $.incomeBean = 0;
      $.expenseBean = 0;
      $.todayIncomeBean = 0;
      $.errorMsg = '';
      $.isLogin = true;
      $.nickName = '';
      $.message = '';
      $.balance = 0;
      $.expiredBalance = 0;
      await TotalBean();
      if (!$.isLogin) {
        console.log(`cookieå·²å¤±æ•ˆ********ã€äº¬ä¸œè´¦å·${$.index}ã€‘${$.nickName || $.UserName}******${cookieConfig[i].name}`);
      }else{
        console.log(`cookieæœ‰æ•ˆ********ã€äº¬ä¸œè´¦å·${$.index}ã€‘${$.nickName || $.UserName}******${cookieConfig[i].name}`);
      }
    }
  }
  // console.log(cookiesArr)
  

  let myCookiesStr = 'const myCookies = '+ JSON.stringify(cookiesArr)+';'
  myCookiesStr += '\nmodule.exports.myCookies = myCookies;'
  fs.writeFile('00myCookies.js', myCookiesStr, { 'flag': '' }, function(err) {
    console.log(`ç”Ÿæˆæ–‡ä»¶ï¼š 00myCookies.js`)
  });

  let githubCookies = cookiesArr[0];
  for (let j = 1; j < cookiesArr.length; j++) {
    githubCookies += '\n'+cookiesArr[j];
  }
  fs.writeFile('logs/0githubCookies', githubCookies, { 'flag': '' }, function(err) {
    console.log(`ç”Ÿæˆcookieæ–‡ä»¶ï¼š0githubCookies`)
  });
})()
    .catch((e) => {
      $.log('', `âŒ ${$.name}, å¤±è´¥! åŸå› : ${e}!`, '')
    })
    .finally(() => {
      $.done();
    })


function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      url: "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",
      headers: {
        Host: "me-api.jd.com",
        Accept: "*/*",
        Connection: "keep-alive",
        Cookie: cookie,
        "User-Agent": $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1"),
        "Accept-Language": "zh-cn",
        "Referer": "https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&",
        "Accept-Encoding": "gzip, deflate, br"
      }
    }
    $.get(options, (err, resp, data) => {
      try {
        if (err) {
          $.logErr(err)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === "1001") {
              $.isLogin = false; //cookieè¿‡æœŸ
              return;
            }
            if (data['retcode'] === "0" && data.data && data.data.hasOwnProperty("userInfo")) {
              $.nickName = data.data.userInfo.baseInfo.nickname;
            }
            if (data['retcode'] === '0' && data.data && data.data['assetInfo']) {
              $.beanCount = data.data && data.data['assetInfo']['beanNum'];
            }
          } else {
            $.log('äº¬ä¸œæœåŠ¡å™¨è¿”å›ç©ºæ•°æ®');
          }
        }
      } catch (e) {
        $.logErr(e)
      } finally {
        resolve();
      }
    })
  })
}




// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`ğŸ””${this.name}, å¼€å§‹!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t.stack):this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`ğŸ””${this.name}, ç»“æŸ! ğŸ•› ${s} ç§’`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}